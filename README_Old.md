# 深空之眼 AHK 自动脚本

## 版本信息

**当前版本：3.1（模块化增强版）**

本版本对脚本进行了完全重构，采用模块化架构，提升了代码可维护性和用户体验。

### 新增特性

- ✨ **模块化架构**：代码按功能拆分为独立模块，易于维护和扩展
- 🎨 **增强的 GUI 界面**：6 个标签页的现代化设置界面
- 🖥️ **浮动控制面板**：可视化的脚本控制界面，无需记忆热键
- 📊 **统计功能**：记录脚本使用次数和时长
- ⚙️ **配置管理**：支持配置导出、导入、备份和恢复
- 🔧 **热键即时生效**：修改热键无需重启脚本
- 💾 **持久化配置**：所有设置自动保存到 settings.ini

### 项目结构

```
AetherGazer-ahk/
├── AetherGazer.ahk          # 主脚本入口（精简版）
├── settings.ini             # 用户配置文件
├── lib/
│   ├── Config.ahk           # 配置管理模块
│   ├── SettingsGUI.ahk      # GUI 界面模块
│   ├── FloatGUI.ahk         # 浮动控制面板模块
│   ├── Statistics.ahk       # 统计功能模块
│   ├── Utils.ahk            # 通用工具函数
│   └── Combat/              # 战斗脚本目录
│       ├── Jinwu.ahk        # 金乌自动战斗
│       ├── Lingguang.ahk    # 陵光自动战斗
│       ├── Tuote.ahk        # 托特/哈迪斯自动战斗
│       ├── Namei.ahk        # 娜美自动战斗
│       ├── Weier.ahk        # 薇儿自动战斗
│       ├── Fantian.ahk      # 梵天自动战斗
│       ├── Shikoudi.ahk     # 诗寇蒂自动战斗
│       ├── Dimension.ahk    # 多维变量自动刷分
│       └── Others.ahk       # 其他功能（烤肉、连点器等）
└── README.md
```

## 免责声明

这是 AHK 按键脚本，而不是外挂，没有注入和修改数据，只是模拟键盘鼠标，所以说不会被封。目前脚本发布至今没有因使用脚本被封号的案例，但仍有风险，勇士对按键脚本的态度可能改变，所以如果造成封号或其他问题，本工具作者不承担任何责任。

---

## 使用指南

### 视频教程

[点击观看视频教程](https://www.bilibili.com/video/BV1ZxxmeDEdn/)

### 快速开始

1. **下载脚本**：下载 `AetherGazer.ahk` 以及 `lib` 目录
2. **运行脚本**：双击 `AetherGazer.ahk` 启动（需要管理员权限）
3. **使用控制面板**：脚本启动后会自动显示浮动控制面板
   - 从下拉列表选择要使用的角色
   - 点击"启动脚本"开始自动战斗
   - 或使用传统的热键方式
4. **配置按键**：点击"打开设置"或在系统托盘右键选择"打开设置"
5. **调整位置**：拖动控制面板标题栏可以移动到合适的位置

### 重要注意事项

#### 游戏设置要求

1. **分辨率**：游戏分辨率必须设置为 **1280x720**
2. **战斗界面**：如有自定义战斗界面，使用脚本时请还原为默认（部分角色需要识别按键状态，改变按键位置会导致出招异常）
3. **按键布局**：游戏中有 4 个按键布局预设，建议使用默认布局

#### 多维变量刷分要求

- 解锁 **20 难度**
- 解锁角色 **真红**
- 解锁信标：**赏金猎人**、**孤狼之道**、**残酷天平**

#### 多维变量故障排除

如果多维变量运行不正确：

1. 确保使用管理员权限运行脚本
2. 检查 Windows 显示缩放是否设置为 100%
3. 调整游戏画面设置：
   - 帧数：60
   - 阴影等级：高
   - 后处理：高
   - 抗锯齿：开
   - 垂直同步：开
   - 超分辨率：1.0

---

## 功能说明

### 浮动控制面板

脚本启动时会自动显示浮动控制面板，提供可视化的操作界面：

**面板功能**：
- **角色选择**：从下拉列表选择要使用的战斗脚本（金乌、陵光、托特/哈迪斯、娜美、薇儿、梵天、诗寇蒂、樱切、亚莉莎）
- **启动脚本**：启动选中的角色自动战斗
- **停止脚本**：停止当前运行的脚本
- **启动多维变量**：启动多维变量自动刷分模式
- **打开设置**：打开详细设置界面
- **退出程序**：完全退出脚本
- **状态显示**：实时显示当前脚本运行状态

**面板特性**：
- 始终置顶显示，不会被其他窗口遮挡
- 可拖动标题栏移动到任意位置
- 关闭窗口会隐藏到托盘（不会退出程序）
- 通过托盘菜单"显示控制面板"可重新显示

### 默认快捷键

可在托盘菜单"打开设置"中自行更改键位
### 角色自动战斗

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| 小键盘 1 | 金乌自动出招 | - |
| 小键盘 3 | 陵光自动出招 | - |
| 小键盘 4 | 托特/哈迪斯/雷前鬼/水姆 | - |
| 小键盘 5 | 娜美自动出招 | - |
| 小键盘 6 | 薇儿/光赫拉/瓦吉特/执明 | 适用于潜质觉醒中所有薇儿变体 |
| Ctrl+小键盘 1 | 梵天自动出招 | 队友帕尔瓦蒂必须放2号位，且不安装惊澜芯片 |
| Ctrl+小键盘 2 | 诗寇蒂自动出招 | - |
| Ctrl+小键盘 3 | 樱切自动出招 | 左线 |
| Ctrl+小键盘 4 | 亚莉莎自动出招 | 左线 |

### 功能快捷键

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| 小键盘 2 | 多维变量自动刷分 | 需满足特定要求（见上文） |
| 小键盘 7 | 闲暇时刻自动烤肉 | - |
| 小键盘 9 | 简易按键连点器 | 右 Ctrl+任意键=连点该键 |
| 小键盘 0 | 停止运行中的操作 | - |

### 自动刷熟练度

点开游戏键位设置，将"继续挑战"快捷键设置为"技能1"按键，选择历战回响第一关，从第一层开始按小键盘 6 自动刷角色熟练度。

---

## GUI 界面

### 浮动控制面板

启动脚本时自动显示的轻量级控制面板，包含：
- **战斗脚本区域**：下拉列表选择角色，启动/停止按钮
- **功能区域**：多维变量、设置、退出按钮
- **状态栏**：实时显示脚本运行状态

面板始终置顶，可自由拖动，关闭时隐藏到托盘。

### 设置界面

通过浮动面板的"打开设置"按钮或托盘菜单打开详细设置界面。

### Tab 1: 通用设置

- **游戏分辨率**：支持 1280x720、1920x1080、2560x1440 或自定义
- **显示状态提示**：开启/关闭屏幕提示
- **提示位置**：自定义提示显示的 X/Y 坐标
- **启动选项**：
  - 启动时最小化到托盘
  - 开机自动启动
- **脚本延迟**：设置脚本执行延迟（毫秒）
- **配置管理**：
  - 导出配置：保存当前配置到文件
  - 导入配置：从文件加载配置
  - 备份配置：创建带时间戳的配置备份
  - 恢复默认：重置所有设置

### Tab 2: 游戏按键

设置与游戏内对应的按键：
- **移动按键**：前进、后退、左移、右移、闪避
- **战斗按键**：普攻、技能1-3、奥义
- **队友按键**：队友1/2 奥义

### Tab 3: 脚本快捷键

设置启动各功能的快捷键：
- **角色自动战斗**：金乌、陵光、托特、娜美、薇儿、梵天、诗寇蒂、樱切、亚莉莎
- **功能快捷键**：多维变量、自动烤肉、简易连点器、停止脚本

### Tab 4: 多维变量

多维变量自动刷分的详细设置：
- 选择难度（15/18/20）
- 自动选择角色（真红）
- 自动选择信标
- 失败自动重试
- 完成后自动退出
- 最大运行次数

### Tab 5: 统计信息

查看脚本使用统计：
- 总运行次数
- 总运行时长
- 最后运行时间
- 当前会话统计
- 重置统计数据

### Tab 6: 关于

显示脚本版本、作者信息和免责声明

---

## 技术说明

### 配置文件

所有设置保存在 `settings.ini` 文件中，包含以下部分：

- `[General]`：通用设置（分辨率、提示、启动选项）
- `[Hotkeys]`：游戏按键和脚本快捷键
- `[Dimension]`：多维变量设置
- `[Statistics]`：使用统计数据

### 模块说明

- **Config.ahk**：配置文件读写、导入导出、备份恢复
- **SettingsGUI.ahk**：6 个标签页的图形化设置界面
- **FloatGUI.ahk**：浮动控制面板，提供可视化脚本控制
- **Statistics.ahk**：运行次数和时长统计
- **Utils.ahk**：通用工具函数（颜色检测等）
- **Combat/**：各角色的自动战斗脚本

### 热键即时生效

修改热键后无需重启脚本，点击"保存设置"即可立即应用新的热键配置。

---

## 原作者信息

- **作者**：qstdnx
- **项目地址**：https://github.com/qstdnx/AetherGazer-ahk
- **问题反馈**：https://github.com/qstdnx/AetherGazer-ahk/issues

## Fork 维护者

- **模块化重构**：Shalom0919
- **本 Fork 地址**：https://github.com/Shalom0919/AetherGazer-ahk

---

## 许可证

本项目采用与原项目相同的许可证。
